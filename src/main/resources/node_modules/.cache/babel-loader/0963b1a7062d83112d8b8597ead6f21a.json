{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\karti\\\\Desktop\\\\whereToEat\\\\src\\\\main\\\\resources\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\karti\\\\Desktop\\\\whereToEat\\\\src\\\\main\\\\resources\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\karti\\\\Desktop\\\\whereToEat\\\\src\\\\main\\\\resources\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\karti\\\\Desktop\\\\whereToEat\\\\src\\\\main\\\\resources\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\karti\\\\Desktop\\\\whereToEat\\\\src\\\\main\\\\resources\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\karti\\\\Desktop\\\\whereToEat\\\\src\\\\main\\\\resources\\\\src\\\\landing.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from \"react-router-dom\";\n\nvar Landing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Landing, _Component);\n\n  function Landing(props) {\n    var _this;\n\n    _classCallCheck(this, Landing);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Landing).call(this, props));\n    _this.state = {\n      hashValue: \"hash\",\n      name: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Landing, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"blackBack\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, \"Where to Eat ?\"), React.createElement(\"div\", {\n        className: \"seal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"summaryPara\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }), \"Our aim is to simplify the decision for you and your friends as to where to eat.\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }), \"To get started, Generate a link for your friends, or if you have recieved a code\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }), \"from your friend, go ahead and enter that!\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"createButton\",\n        className: \"button-submit\",\n        type: \"button\",\n        value: \"Generate Code\",\n        onClick: getLocation.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: require(\"./img/cancel.png\"),\n        height: 50,\n        className: \"cancelButton\",\n        id: \"cancelButton\",\n        onClick: returnCode.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"copyPara\",\n        id: \"copyCodeText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Click the code to Copy, and give it to all your friends:\"), React.createElement(\"button\", {\n        className: \"button-submit\",\n        onClick: enterCode.bind(this),\n        id: \"enterCode\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Enter code\")));\n\n      function enterCode() {\n        var create = document.getElementById(\"createButton\");\n        console.log(create.value);\n        var enterCode = document.getElementById(\"enterCode\");\n        var codeTextBox = document.createElement('input');\n        var cancel = document.getElementById(\"cancelButton\");\n        cancel.style.visibility = \"visible\";\n        codeTextBox.classList.add(\"inputText\");\n        codeTextBox.placeholder = \"Code:\";\n        codeTextBox.id = \"codeTextBox\";\n        codeTextBox.background = \"black\";\n        create.classList.add(\"change\");\n        create.value = \"\"; //add delay to changing classes\n\n        setTimeout(function () {\n          create.value = \"Code:\";\n          enterCode.innerText = \"Submit\";\n          create.classList.add(\"change2\");\n        }, 0.5 * 1000);\n        setTimeout(function () {\n          create.parentNode.replaceChild(codeTextBox, create);\n        }, 1000); // makes button redirect to name page on click\n\n        document.getElementById(\"enterCode\").onclick = redirectToName.bind(this);\n      }\n\n      function returnCode() {\n        //TODO return code for clicking cross\n        //code text box to replace\n        var inputBox = document.getElementById(\"codeTextBox\"); //second button\n\n        var enterCodeElement = document.getElementById(\"enterCode\"); //create form button\n\n        var createButton = document.createElement('input'); //cancel button\n\n        var cancel = document.getElementById(\"cancelButton\"); //change cancel button to hidden\n\n        cancel.style.visibility = \"hidden\"; //add button class to createButton\n\n        createButton.classList.add(\"button-return\"); //Add text to createButton\n\n        createButton.value = \"Generate Code\"; //Add id to createButton\n\n        createButton.id = \"createButton\";\n        createButton.type = \"button\";\n        createButton.onclick = getLocation.bind(this);\n        inputBox.parentNode.replaceChild(createButton, inputBox);\n        createButton.classList.add(\"change\");\n        setTimeout(function () {\n          createButton.classList.add(\"change2\");\n          enterCodeElement.innerText = \"Enter code\";\n          enterCodeElement.id = \"enterCode\";\n          enterCodeElement.onclick = enterCode;\n        }, 0.5 * 1000);\n      }\n\n      function getLocation() {\n        if (navigator.geolocation) {\n          navigator.geolocation.getCurrentPosition(showPosition.bind(this));\n          var createButton = document.createElement('button');\n          createButton.onclick = showHash.bind(this);\n          setTimeout(function () {\n            createButton.click();\n          }, 0.5 * 1000);\n        } else {\n          alert(\"Geolocation is not supported by this browser.\");\n        }\n      }\n\n      function showPosition(position) {\n        var _this2 = this;\n\n        fetch('http://localhost:8080/getCode?latitude=' + position.coords.latitude + '&longitude=' + position.coords.longitude, {\n          method: 'get'\n        }).then(function (res) {\n          if (!res.ok) {\n            throw res;\n          }\n\n          return res;\n        }).then(function (response) {\n          return response.json();\n        }).then(function (response) {\n          _this2.setState({\n            hashValue: response\n          }); // showHash(response);\n\n        });\n      }\n\n      function showHash() {\n        //code text box to replace\n        var enterCode = document.getElementById(\"enterCode\"); //create form button\n\n        var copyButton = document.createElement('button'); //add button class to createButton\n\n        copyButton.classList.add(\"button-return\"); //Add text to createButton\n\n        copyButton.innerHTML = \"\"; //Add id to createButton\n\n        copyButton.id = \"copyButton\"; //To copy Text on clicking\n\n        copyButton.onclick = copyFunction; //Replace child\n\n        enterCode.parentNode.replaceChild(copyButton, enterCode); //Add animations\n\n        copyButton.classList.add(\"change\");\n        var hashVal = \"\" + this.state.hashValue;\n        setTimeout(function () {\n          copyButton.classList.add(\"change2\");\n        }, 0.5 * 1000);\n        setTimeout(function () {\n          copyButton.innerHTML = hashVal;\n        }, 0.8 * 1000);\n        document.getElementById(\"copyCodeText\").style.visibility = \"visible\";\n        document.getElementById(\"createButton\").value = \"Restaurant picker\"; // Redirect to name page\n\n        document.getElementById(\"createButton\").onclick = redirectToName.bind(this);\n      }\n\n      function redirectToName() {\n        // Todo sid redirect: send hashvalue as param\n        try {\n          var hash = document.getElementById(\"codeTextBox\").value;\n        } catch (e) {\n          hash = this.state.hashValue;\n        }\n\n        this.setState({\n          hashValue: hash\n        });\n\n        if (hash.length === 0) {\n          alert(\"please enter a hash value\");\n        } else {\n          window.location.href = \"http://localhost:3000/name?hash=\" + hash;\n        }\n      }\n\n      function copyFunction() {\n        console.log(\"reached\");\n        var toChange = document.getElementById(\"copyButton\");\n        var textarea = document.createElement(\"textarea\");\n        textarea.value = toChange.innerHTML;\n        document.body.appendChild(textarea);\n        textarea.select();\n        document.execCommand('copy');\n        document.body.removeChild(textarea);\n      }\n    }\n  }]);\n\n  return Landing;\n}(Component);\n\nexport default Landing;","map":{"version":3,"sources":["C:\\Users\\karti\\Desktop\\whereToEat\\src\\main\\resources\\src\\landing.js"],"names":["React","Component","Redirect","Landing","props","state","hashValue","name","getLocation","bind","require","returnCode","enterCode","create","document","getElementById","console","log","value","codeTextBox","createElement","cancel","style","visibility","classList","add","placeholder","id","background","setTimeout","innerText","parentNode","replaceChild","onclick","redirectToName","inputBox","enterCodeElement","createButton","type","navigator","geolocation","getCurrentPosition","showPosition","showHash","click","alert","position","fetch","coords","latitude","longitude","method","then","res","ok","response","json","setState","copyButton","innerHTML","copyFunction","hashVal","hash","e","length","window","location","href","toChange","textarea","body","appendChild","select","execCommand","removeChild"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Redirect} from \"react-router-dom\";\n\nclass Landing extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            hashValue: \"hash\",\n            name: \"\"\n        };\n    }\n\n    render() {\n        return (\n            <div className={\"blackBack\"}>\n                <div className='navbar'>\n                    <div className='logo'>Where to Eat ?</div>\n                    <div className='seal'/>\n                </div>\n                <div className={\"buttons\"}>\n                    {/*<h1>Welcome to where to eat!</h1>*/}\n                    <p className={\"summaryPara\"}>\n                        <br/>\n                        Our aim is to simplify the decision for you\n                        and your\n                        friends as to where to eat.\n                        <br/>\n                        <br/>\n                        To get started, Generate a link for your\n                        friends, or\n                        if you have recieved a code\n                        <br/>\n                        from your friend, go ahead and enter that!\n                    </p>\n                    <form>\n                        <input id=\"createButton\"\n                               className={\"button-submit\"}\n                               type=\"button\" value=\"Generate Code\"\n                               onClick={getLocation.bind(this)}/>\n                        <br/>\n                        <img src={require(\"./img/cancel.png\")}\n                             height={50}\n                             className={\"cancelButton\"}\n                             id=\"cancelButton\"\n                             onClick={returnCode.bind(this)}/>\n                    </form>\n                    <p className={\"copyPara\"}\n                       id=\"copyCodeText\">Click the code to Copy, and\n                        give it to all your friends:</p>\n                    <button className={\"button-submit\"}\n                            onClick={enterCode.bind(this)}\n                            id=\"enterCode\">Enter code\n                    </button>\n\n                </div>\n            </div>\n        );\n\n        function enterCode() {\n            var create = document.getElementById(\"createButton\");\n            console.log(create.value);\n            var enterCode = document.getElementById(\"enterCode\")\n            var codeTextBox = document.createElement('input');\n            var cancel = document.getElementById(\"cancelButton\");\n            cancel.style.visibility = \"visible\";\n            codeTextBox.classList.add(\"inputText\");\n            codeTextBox.placeholder = \"Code:\";\n            codeTextBox.id = \"codeTextBox\";\n            codeTextBox.background = \"black\";\n            create.classList.add(\"change\");\n            create.value = \"\";\n            //add delay to changing classes\n            setTimeout(function () {\n                create.value = \"Code:\";\n                enterCode.innerText = \"Submit\";\n                create.classList.add(\"change2\");\n            }, (0.5 * 1000));\n            setTimeout(function () {\n                create.parentNode.replaceChild(codeTextBox, create);\n            }, (1000));\n            // makes button redirect to name page on click\n            document.getElementById(\"enterCode\").onclick = redirectToName.bind(this);\n\n\n        }\n\n        function returnCode() {\n            //TODO return code for clicking cross\n            //code text box to replace\n            var inputBox = document.getElementById(\"codeTextBox\");\n            //second button\n            var enterCodeElement = document.getElementById(\"enterCode\")\n            //create form button\n            var createButton = document.createElement('input');\n            //cancel button\n            var cancel = document.getElementById(\"cancelButton\");\n            //change cancel button to hidden\n            cancel.style.visibility = \"hidden\";\n            //add button class to createButton\n            createButton.classList.add(\"button-return\");\n            //Add text to createButton\n            createButton.value = \"Generate Code\";\n            //Add id to createButton\n            createButton.id = \"createButton\";\n            createButton.type = \"button\";\n            createButton.onclick = getLocation.bind(this);\n            inputBox.parentNode.replaceChild(createButton, inputBox);\n            createButton.classList.add(\"change\");\n            setTimeout(function () {\n                createButton.classList.add(\"change2\");\n                enterCodeElement.innerText = \"Enter code\";\n                enterCodeElement.id = \"enterCode\"\n                enterCodeElement.onclick = enterCode;\n            }, (0.5 * 1000));\n\n        }\n\n        function getLocation() {\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition(showPosition.bind(this));\n                var createButton = document.createElement('button');\n                createButton.onclick = showHash.bind(this);\n                setTimeout(function () {\n                    createButton.click();\n                }, (0.5 * 1000));\n            } else {\n                alert(\"Geolocation is not supported by this browser.\");\n            }\n        }\n\n        function showPosition(position) {\n            fetch('http://localhost:8080/getCode?latitude=' + position.coords.latitude + '&longitude=' + position.coords.longitude, {\n                method: 'get'\n\n            }).then(res => {\n                if (!res.ok) {\n                    throw res;\n                }\n                return res;\n            }).then(response => response.json())\n                .then(response => {\n                    this.setState({hashValue: response});\n                    // showHash(response);\n                })\n        }\n\n        function showHash() {\n            //code text box to replace\n            var enterCode = document.getElementById(\"enterCode\")\n            //create form button\n            var copyButton = document.createElement('button');\n            //add button class to createButton\n            copyButton.classList.add(\"button-return\");\n            //Add text to createButton\n            copyButton.innerHTML = \"\";\n            //Add id to createButton\n            copyButton.id = \"copyButton\";\n            //To copy Text on clicking\n            copyButton.onclick = copyFunction;\n            //Replace child\n            enterCode.parentNode.replaceChild(copyButton, enterCode);\n            //Add animations\n            copyButton.classList.add(\"change\");\n            var hashVal = \"\" + this.state.hashValue;\n            setTimeout(function () {\n                copyButton.classList.add(\"change2\");\n            }, (0.5 * 1000));\n            setTimeout(function () {\n                copyButton.innerHTML = hashVal;\n            }, (0.8 * 1000));\n            document.getElementById(\"copyCodeText\").style.visibility = \"visible\";\n            document.getElementById(\"createButton\").value = \"Restaurant picker\";\n            // Redirect to name page\n            document.getElementById(\"createButton\").onclick = redirectToName.bind(this);\n        }\n\n        function redirectToName() {\n            // Todo sid redirect: send hashvalue as param\n            try {\n                var hash = document.getElementById(\"codeTextBox\").value;\n            }catch (e) {\n                hash = this.state.hashValue;\n            }\n            this.setState ({\n                hashValue: hash\n            });\n            if(hash.length === 0){\n                alert(\"please enter a hash value\");\n            }else {\n                window.location.href = \"http://localhost:3000/name?hash=\" + hash;\n            }\n        }\n\n        function copyFunction() {\n            console.log(\"reached\");\n            var toChange = document.getElementById(\"copyButton\");\n            var textarea = document.createElement(\"textarea\");\n            textarea.value = toChange.innerHTML;\n            document.body.appendChild(textarea);\n            textarea.select();\n            document.execCommand('copy');\n            document.body.removeChild(textarea);\n        }\n\n    }\n}\n\nexport default Landing;\n"]},"metadata":{},"sourceType":"module"}